Statistical profiling result from v8.log, (38022 ticks, 10 unaccounted, 0 excluded).

 [Unknown]:
   ticks  total  nonlib   name
     10    0.0%

 [Shared libraries]:
   ticks  total  nonlib   name
   4287   11.3%    0.0%  /Users/marcello/.nvm/v0.6.7/bin/node

 [JavaScript]:
   ticks  total  nonlib   name
      7    0.0%    0.0%  Stub: InstanceofStub
      7    0.0%    0.0%  Stub: FastNewClosureStub
      6    0.0%    0.0%  Stub: CallFunctionStub
      6    0.0%    0.0%  LazyCompile: *exports.writeInt /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/binary.js:14
      6    0.0%    0.0%  Function: Buffer buffer.js:210
      5    0.0%    0.0%  LazyCompile: isFinite native v8natives.js:115
      5    0.0%    0.0%  LazyCompile: *EventEmitter.emit events.js:40
      5    0.0%    0.0%  Function: ~calculateElement /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:72
      4    0.0%    0.0%  Stub: CEntryStub
      4    0.0%    0.0%  LazyCompile: COMPARE native runtime.js:120
      4    0.0%    0.0%  LazyCompile: *exports.active timers.js:129
      4    0.0%    0.0%  LazyCompile: *MongolianDB.sendCommand /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/db.js:77
      4    0.0%    0.0%  Function: Buffer.write buffer.js:323
      3    0.0%    0.0%  Stub: ToBooleanStub_Smi
      3    0.0%    0.0%  Stub: FastNewContextStub {1}
      3    0.0%    0.0%  LazyCompile: *exports.serializeQuery /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/mongo.js:136
      3    0.0%    0.0%  LazyCompile: *MongolianGridFileWriteStream.write /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:148
      3    0.0%    0.0%  LazyCompile: *MongolianCursor.nextBatch /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:103
      3    0.0%    0.0%  Function: ~module.exports /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:6
      3    0.0%    0.0%  Function: writeElement /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:165
      3    0.0%    0.0%  Function: serialize /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:146
      3    0.0%    0.0%  Function: parse /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:261
      3    0.0%    0.0%  Function: exports.calculate /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:58
      3    0.0%    0.0%  CallNormal: args_count: 1
      3    0.0%    0.0%  Builtin: A builtin from the snapshot {3}
      3    0.0%    0.0%  Builtin: A builtin from the snapshot {2}
      3    0.0%    0.0%  Builtin: A builtin from the snapshot
      2    0.0%    0.0%  Stub: ToBooleanStub {2}
      2    0.0%    0.0%  Stub: KeyedStoreElementStub
      2    0.0%    0.0%  Stub: CallFunctionStub_Args3_Implicit
      2    0.0%    0.0%  Stub: CallFunctionStub {1}
      2    0.0%    0.0%  Stub: BinaryOpStub_BIT_AND_Alloc_Oddball
      2    0.0%    0.0%  LazyCompile: b native string.js:36
      2    0.0%    0.0%  LazyCompile: INSTANCE_OF native runtime.js:367
      2    0.0%    0.0%  LazyCompile: *onread net.js:327
      2    0.0%    0.0%  LazyCompile: *connect /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/connection.js:57
      2    0.0%    0.0%  LazyCompile: *afterWrite net.js:469
      2    0.0%    0.0%  LazyCompile: *Socket.write net.js:411
      2    0.0%    0.0%  LazyCompile: *MongolianServer.sendCommand.self /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/server.js:226
      2    0.0%    0.0%  LazyCompile: *MongolianGridFile.save /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:27
      2    0.0%    0.0%  LazyCompile: *MongolianCursor.limit /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:57
      2    0.0%    0.0%  LazyCompile: *Buffer.copy buffer.js:473
      2    0.0%    0.0%  KeyedLoadIC: A keyed load IC from the snapshot
      2    0.0%    0.0%  Function: ~resultFinished /Volumes/Personal/Dropbox/Home/workspace/node-waiter/waiter.js:8
      2    0.0%    0.0%  Function: ~exports.writeCString /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/binary.js:5
      2    0.0%    0.0%  Function: ~append /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/connection.js:29
      2    0.0%    0.0%  Function: ~EventEmitter.emit events.js:40
      2    0.0%    0.0%  Function: ~Buffer.write buffer.js:323
      2    0.0%    0.0%  Function: ~<anonymous> /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:107
      1    0.0%    0.0%  Stub: ToBooleanStub_UndefinedSpecObject
      1    0.0%    0.0%  Stub: ToBooleanStub_UndefinedNull
      1    0.0%    0.0%  Stub: ToBooleanStub_String
      1    0.0%    0.0%  Stub: ToBooleanStub_Null
      1    0.0%    0.0%  Stub: ToBooleanStub {1}
      1    0.0%    0.0%  Stub: ToBooleanStub
      1    0.0%    0.0%  Stub: KeyedLoadElementStub
      1    0.0%    0.0%  Stub: FastNewContextStub {2}
      1    0.0%    0.0%  Stub: FastNewContextStub
      1    0.0%    0.0%  Stub: CompareICStub {1}
      1    0.0%    0.0%  Stub: CompareICStub
      1    0.0%    0.0%  Stub: CallFunctionStub_Args4_Implicit
      1    0.0%    0.0%  Stub: CallFunctionStub_Args1_Implicit
      1    0.0%    0.0%  Stub: CallFunctionStub {3}
      1    0.0%    0.0%  Stub: CallFunctionStub {2}
      1    0.0%    0.0%  Stub: BinaryOpStub_SUB_Alloc_SMI
      1    0.0%    0.0%  Stub: BinaryOpStub_SHL_OverwriteRight_SMI
      1    0.0%    0.0%  Stub: BinaryOpStub_MUL_OverwriteLeft_HeapNumbers
      1    0.0%    0.0%  Stub: BinaryOpStub_MUL_Alloc_HeapNumbers
      1    0.0%    0.0%  Stub: BinaryOpStub
      1    0.0%    0.0%  RegExp: (.*?)(?:[\\/]+|$)
      1    0.0%    0.0%  LazyCompile: ~substr native string.js:698
      1    0.0%    0.0%  LazyCompile: ~now native date.js:570
      1    0.0%    0.0%  LazyCompile: ~ceil native math.js:80
      1    0.0%    0.0%  LazyCompile: ~<anonymous> _linklist.js:1
      1    0.0%    0.0%  LazyCompile: module.exports /Volumes/Personal/Dropbox/Home/workspace/node-waiter/waiter.js:2
      1    0.0%    0.0%  LazyCompile: WeekDays native date.js:398
      1    0.0%    0.0%  LazyCompile: ToString native runtime.js:560
      1    0.0%    0.0%  LazyCompile: STRING_ADD_LEFT native runtime.js:183
      1    0.0%    0.0%  LazyCompile: DELETE native runtime.js:348
      1    0.0%    0.0%  LazyCompile: *writeHeader /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/mongo.js:57
      1    0.0%    0.0%  LazyCompile: *toLong /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:111
      1    0.0%    0.0%  LazyCompile: *module.exports /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:12
      1    0.0%    0.0%  LazyCompile: *isArrayIsh buffer.js:269
      1    0.0%    0.0%  LazyCompile: *forEach native array.js:1019
      1    0.0%    0.0%  LazyCompile: *exports.writeString /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/binary.js:10
      1    0.0%    0.0%  LazyCompile: *exports.serializeUpdate /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/mongo.js:76
      1    0.0%    0.0%  LazyCompile: *exports.serialize /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:51
      1    0.0%    0.0%  LazyCompile: *coerce buffer.js:199
      1    0.0%    0.0%  LazyCompile: *append /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/connection.js:29
      1    0.0%    0.0%  LazyCompile: *MongolianGridFileWriteStream.end /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:199
      1    0.0%    0.0%  LazyCompile: *MongolianGridFileWriteStream /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:134
      1    0.0%    0.0%  LazyCompile: *MongolianDB.runCommand /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/db.js:57
      1    0.0%    0.0%  LazyCompile: *Mongolian.sendCommand /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/server.js:149
      1    0.0%    0.0%  LazyCompile: *EventEmitter.addListener events.js:99
      1    0.0%    0.0%  KeyedLoadIC: args_count: 0
      1    0.0%    0.0%  Function: ~waiter /Volumes/Personal/Dropbox/Home/workspace/node-waiter/waiter.js:19
      1    0.0%    0.0%  Function: ~readInt /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/mongo.js:241
      1    0.0%    0.0%  Function: ~readInt /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:346
      1    0.0%    0.0%  Function: ~readCString /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/bson.js:353
      1    0.0%    0.0%  Function: ~module.exports._getPrimary /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/server.js:118
      1    0.0%    0.0%  Function: ~exports.createHash crypto.js:122
      1    0.0%    0.0%  Function: ~exports.active timers.js:129
      1    0.0%    0.0%  Function: ~exports.Long.fromNumber /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/extern/long.js:99
      1    0.0%    0.0%  Function: ~coerce buffer.js:199
      1    0.0%    0.0%  Function: ~Socket.write net.js:411
      1    0.0%    0.0%  Function: ~Socket._write net.js:448
      1    0.0%    0.0%  Function: ~Response /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/mongo.js:240
      1    0.0%    0.0%  Function: ~ObjectId /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/objectid.js:32
      1    0.0%    0.0%  Function: ~MongolianGridFileWriteStream.write /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:148
      1    0.0%    0.0%  Function: ~MongolianGridFS.find /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfs.js:39
      1    0.0%    0.0%  Function: ~MongolianCursor.nextBatch /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:103
      1    0.0%    0.0%  Function: ~MongolianCursor.limit /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:57
      1    0.0%    0.0%  Function: ~MongolianCollection.save /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/collection.js:119
      1    0.0%    0.0%  Function: ~Module.load module.js:341
      1    0.0%    0.0%  Function: ~Buffer.toString buffer.js:390
      1    0.0%    0.0%  Function: Module._compile module.js:362
      1    0.0%    0.0%  CallMegamorphic: args_count: 3
      1    0.0%    0.0%  CallInitialize: args_count: 6
      1    0.0%    0.0%  Builtin: A builtin from the snapshot {4}
      1    0.0%    0.0%  Builtin: A builtin from the snapshot {1}

 [C++]:
   ticks  total  nonlib   name
  29057   76.4%   86.1%  _accept$NOCANCEL
   3689    9.7%   10.9%  ___gettimeofday
    207    0.5%    0.6%  _chmod
    141    0.4%    0.4%  _OCSP_sendreq_nbio
     70    0.2%    0.2%  ___psynch_rw_wrlock
     54    0.1%    0.2%  _dbm_fetch
     46    0.1%    0.1%  _proc_listpidspath
     23    0.1%    0.1%  ___vfprintf
     20    0.1%    0.1%  _dbm_open
     19    0.0%    0.1%  ___Balloc_D2A
     15    0.0%    0.0%  _swtch
     13    0.0%    0.0%  _lchflags
     11    0.0%    0.0%  _mergesort
     10    0.0%    0.0%  _semaphore_wait_signal_trap
      9    0.0%    0.0%  ___chud
      8    0.0%    0.0%  _asl_file_save
      7    0.0%    0.0%  ___simple_bprintf
      6    0.0%    0.0%  _pthread_mutexattr_setpshared
      5    0.0%    0.0%  ___sflags
      4    0.0%    0.0%  _mig_dealloc_reply_port
      4    0.0%    0.0%  _fclose
      4    0.0%    0.0%  _atexit_b
      4    0.0%    0.0%  _abort_report_np
      4    0.0%    0.0%  _OCSP_sendreq_new
      3    0.0%    0.0%  _szone_malloc_should_clear
      3    0.0%    0.0%  _szone_good_size
      3    0.0%    0.0%  _purgeable_pressure_relief
      3    0.0%    0.0%  _memset_pattern8
      3    0.0%    0.0%  _malloc_zone_register_while_locked
      3    0.0%    0.0%  _dbm_firstkey
      3    0.0%    0.0%  _asin$fenv_access_off
      3    0.0%    0.0%  _abort
      2    0.0%    0.0%  _szone_batch_free
      2    0.0%    0.0%  _strcmp
      2    0.0%    0.0%  _sflush_locked
      2    0.0%    0.0%  _pthread_workqueue_create_np
      2    0.0%    0.0%  _lchmod
      2    0.0%    0.0%  _fgets
      2    0.0%    0.0%  _csinh$fenv_access_off
      2    0.0%    0.0%  __pthread_cond_wait
      2    0.0%    0.0%  __malloc_vprintf
      2    0.0%    0.0%  __fseeko
      2    0.0%    0.0%  ___rec_seq
      2    0.0%    0.0%  ___dtoa
      2    0.0%    0.0%  ___b2d_D2A
      1    0.0%    0.0%  std::numpunct<wchar_t>::_M_initialize_numpunct
      1    0.0%    0.0%  _vsnprintf_l
      1    0.0%    0.0%  _tiny_malloc_from_free_list
      1    0.0%    0.0%  _tiny_free_try_depot_unmap_no_lock
      1    0.0%    0.0%  _tiny_free_scan_madvise_free
      1    0.0%    0.0%  _small_malloc_from_free_list
      1    0.0%    0.0%  _small_free_scan_madvise_free
      1    0.0%    0.0%  _pthread_mutexattr_settype
      1    0.0%    0.0%  _pthread_mutexattr_init
      1    0.0%    0.0%  _pthread_mutexattr_getpshared
      1    0.0%    0.0%  _mach_timebase_info
      1    0.0%    0.0%  _insertionsort
      1    0.0%    0.0%  _ec_GFp_simple_invert
      1    0.0%    0.0%  _ec_GFp_simple_dbl
      1    0.0%    0.0%  __pthread_start
      1    0.0%    0.0%  __pthread_mutex_init
      1    0.0%    0.0%  __malloc_initialize
      1    0.0%    0.0%  __asl_server_prune
      1    0.0%    0.0%  __asl_server_create_aux_link
      1    0.0%    0.0%  ___swsetup
      1    0.0%    0.0%  ___sfp
      1    0.0%    0.0%  ___sflush
      1    0.0%    0.0%  ___posix_spawn
      1    0.0%    0.0%  ___hexnan_D2A
      1    0.0%    0.0%  __UTF2_wcsnrtombs

 [GC]:
   ticks  total  nonlib   name
    837    2.2%

 [Bottom up (heavy) profile]:
  Note: percentage shows a share of a particular caller in the total
  amount of its parent calls.
  Callers occupying less than 2.0% are not shown.

   ticks parent  name
  29057   76.4%  _accept$NOCANCEL

   4287   11.3%  /Users/marcello/.nvm/v0.6.7/bin/node
   2754   64.2%    Function: ~Buffer.toString buffer.js:390
   2748   99.8%      LazyCompile: DefaultString native runtime.js:655
   2748  100.0%        LazyCompile: ToString native runtime.js:560
   2716   98.8%          LazyCompile: *MongolianGridFileWriteStream.write /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:148
   2706   99.6%            LazyCompile: *MongolianGridFileWriteStream.end /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:199
     96    2.2%    Function: Buffer buffer.js:210
     80   83.3%      LazyCompile: *MongolianGridFileWriteStream.write /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:148
     80  100.0%        LazyCompile: *MongolianGridFileWriteStream.end /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:199
     73   91.3%          LazyCompile: *executeMongolianTest /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/gridfs_benchmark.js:70
     73  100.0%            Function: ~MongolianCursor.next /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:150
      7    8.8%          Function: ~executeMongolianTest /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/gridfs_benchmark.js:70
      7  100.0%            Function: ~MongolianCursor.next /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/cursor.js:150
      4    4.2%      LazyCompile: *ObjectId /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/objectid.js:32
      4  100.0%        LazyCompile: *MongolianGridFile.save /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:27
      4  100.0%          LazyCompile: *MongolianGridFileWriteStream.flush /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:178
      4  100.0%            LazyCompile: *MongolianGridFileWriteStream.end /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:199
      4    4.2%      Function: ~SlowBuffer.slice buffer.js:185
      4  100.0%        LazyCompile: *onread net.js:327
      3    3.1%      LazyCompile: *exports.serializeUpdate /Volumes/Personal/Dropbox/Home/workspace/node-buffalo/lib/mongo.js:76
      3  100.0%        LazyCompile: *MongolianCollection.update /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/collection.js:83
      3  100.0%          Function: ~MongolianCollection.upsert /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/collection.js:105
      3  100.0%            LazyCompile: *MongolianGridFileWriteStream.flush /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:178
      3    3.1%      LazyCompile: *Buffer.slice buffer.js:514
      2   66.7%        LazyCompile: *MongolianGridFileWriteStream.flush /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:178
      2  100.0%          LazyCompile: *MongolianGridFileWriteStream.end /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:199
      2  100.0%            LazyCompile: *executeMongolianTest /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/gridfs_benchmark.js:70
      1   33.3%        LazyCompile: *MongolianGridFileWriteStream.write /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:148
      1  100.0%          LazyCompile: *MongolianGridFileWriteStream.end /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/lib/gridfile.js:199
      1  100.0%            LazyCompile: *executeMongolianTest /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/gridfs_benchmark.js:70

   3689    9.7%  ___gettimeofday
   3671   99.5%    Function: ~fs.readSync fs.js:260
   3630   98.9%      LazyCompile: *fs.readFileSync fs.js:119
   1871   51.5%        Function: ~Module._extensions..js module.js:448
   1057   56.5%          LazyCompile: *Module.load module.js:341
   1040   98.4%            Function: Module._load module.js:274
    814   43.5%          Function: ~Module.load module.js:341
    814  100.0%            Function: ~Module._load module.js:274
   1505   41.5%        LazyCompile: *Module._extensions..js module.js:448
   1505  100.0%          LazyCompile: *Module.load module.js:341
   1505  100.0%            Function: Module._load module.js:274
    158    4.4%        LazyCompile: ~<anonymous> /Volumes/Personal/Dropbox/Home/workspace/node-mongolian/gridfs_benchmark.js:1
    158  100.0%          Function: Module._compile module.js:362
    158  100.0%            Function: ~Module._extensions..js module.js:448
     96    2.6%        Function: ~readPackage module.js:97
     96  100.0%          Function: ~tryPackage module.js:120
     96  100.0%            Function: ~Module._findPath module.js:158

